%% This is file `tuda-ci.ins' version 4.00 (2025-01-23),
%% it is part of
%% TUDa-CI -- Corporate Design for TU Darmstadt
%% ----------------------------------------------------------------------------
%%
%%  Copyright (C) 2018--2025 by Marei Peischl <marei@peitex.de>
%%
%% ============================================================================
%% This work may be distributed and/or modified under the
%% conditions of the LaTeX Project Public License, either version 1.3c
%% of this license or (at your option) any later version.
%% The latest version of this license is in
%% http://www.latex-project.org/lppl.txt
%% and version 1.3c or later is part of all distributions of LaTeX
%% version 2008/05/04 or later.
%%
%% This work has the LPPL maintenance status `maintained'.
%%
%% The Current Maintainers of this work are
%%   Marei Peischl <tuda-ci@peitex.de>
%%
%% The development repository can be found at
%% https://github.com/tudace/tuda_latex_templates
%% Please use the issue tracker for feedback!
%%
%%
%% ==========================================
%%

\input docstrip.tex
\keepsilent

\usedir{tex/latex/tuda-ci}

\let\orig@ds@heading\ds@heading
\let\ds@heading\@empty
\declarepreamble\tudatop
it is part of
TUDa-CI -- Corporate Design for TU Darmstadt

----------------------------------------------------------------------------

  Copyright (C) 2018--2025 by Marei Peischl <marei@peitex.de>

============================================================================
\endpreamble
\declarepreamble\tudabottom
This work may be distributed and/or modified under the
conditions of the LaTeX Project Public License, either version 1.3c
of this license or (at your option) any later version.
The latest version of this license is in
http://www.latex-project.org/lppl.txt
and version 1.3c or later is part of all distributions of LaTeX
version 2008/05/04 or later.

This work has the LPPL maintenance status `maintained'.

The Current Maintainers of this work are
  Marei Peischl <tuda-ci@peitex.de>

The development repository can be found at
https://github.com/tudace/tuda_latex_templates
Please use the issue tracker for feedback!

============================================================================

\endpreamble
\ExplSyntaxOn
\tl_replace_once:Nnn \tudatop{\ReferenceLines} {^^J}
\tl_replace_once:Nnn \tudabottom {\ReferenceLines} {^^J}
\ExplSyntaxOff

\let\ds@heading\orig@ds@heading
\declarepreamble\tudadefault\tudatop\tudabottom
\endpreamble

\usepreamble\tudadefault

\askforoverwritefalse

\generate{
	%tudabeamer
	\file{tudabeamer.cls}{
		\from{tudabeamer.dtx}{class,initialize,options}
		\from{tuda-ci.dtx}{options,tudabeamer,beamer}
		\from{tudabeamer.dtx}{class,body}
	}
	%tudapub
	\file{tudapub.cls}{\from{tuda-ci.dtx}{class,tudapub,pdfa,options}}
}

\generate{%
	\file{tudaexercise.cls}{%
		\from{tudaexercise.dtx}{class,initialization}%
		\from{tuda-ci.dtx}{options,exercise,print}%
		\from{tudaexercise.dtx}{class,center}%
		\from{tuda-ci.dtx}{margin}%
		\from{tudaexercise.dtx}{class,body}
	}%
}
\generate{\file{tudaleaflet.cls}{%
		\from{tudaleaflet.dtx}{class,initialization}%
		\from{tuda-ci.dtx}{options,leaflet,print}%
		\from{tudaleaflet.dtx}{class,body}%
	}%
}
\generate{\file{tudaletter.cls}{%
		\from{tudaletter.dtx}{class,initialization}%
		\from{tuda-ci.dtx}{options,letter,print,process-options,pdfa}%
		\from{tudaletter.dtx}{class,packages}%
		\from{tuda-ci.dtx}{pdfx}%
		\from{tudaletter.dtx}{class,body}%
		\from{tuda-ci.dtx}{xmpdata}%
	}%
}
\generate{\file{tudasciposter.cls}{%
		\from{tudasciposter.dtx}{class,initialization}%
		\from{tuda-ci.dtx}{options,sciposter,print,pdfa}%
		\from{tudasciposter.dtx}{class,packages}%
		\from{tuda-ci.dtx}{pdfx}%
		\from{tudasciposter.dtx}{class,body}%
		\from{tuda-ci.dtx}{xmpdata}%
	}%
}
\generate{\file{tudaposter.cls}{%
		\from{tudaposter.dtx}{class,initialization}%
		\from{tuda-ci.dtx}{options,poster,print}%
		\from{tudaposter.dtx}{class,body}%
	}%
}
\generate{
	\file{beamerouterthemeTUDa.sty}{
		\from{beamerouterthemeTUDa.dtx}{package,initialize,main}
		\from{tuda-ci.dtx}{options,beamer-outer}
		\from{beamerouterthemeTUDa.dtx}{package,main,body}
	}
	\file{tudathesis.cfg}{\from{tuda-ci.dtx}{cfg,tudathesis}}
	\file{tudacolors.sty}{\from{tudacolors.dtx}{package}}
	\file{tudafonts.sty}{\from{tudafonts.dtx}{package}}
	\file{tudarules.sty}{\from{tudarules.dtx}{package}}
}
\generate{
% tudabeamer
	\file{beamerthemeTUDa.sty}{\from{tudabeamer.dtx}{package,main,initialize,body,options}}
	\file{beamerthemeTUDa2008.sty}{\from{tudabeamer.dtx}{package,2008,initialize,body,options}}
	\file{beamerthemeTUDa2023.sty}{\from{tudabeamer.dtx}{package,2023,initialize,body,options}}
% beamer font theme
	\file{beamerfontthemeTUDa.sty}{\from{beamerfontthemeTUDa.dtx}{package,main}}
	\file{beamerfontthemeTUDa2008.sty}{\from{beamerfontthemeTUDa.dtx}{package,2008}}
% beamer color theme
	\file{beamercolorthemeTUDa.sty}{\from{beamercolorthemeTUDa.dtx}{package,main}}
	\file{beamercolorthemeTUDa2008.sty}{\from{beamercolorthemeTUDa.dtx}{package,2008}}
%	\file{beamerouterthemeTUDa2008.sty}{\from{beamerouterthemeTUDa.dtx}{package,2008}}
	\file{beamerouterthemeTUDa2008.sty}{%
		\from{beamerouterthemeTUDa.dtx}{package,initialize,2008}%
		\from{tuda-ci.dtx}{options,beamer-outer}%
		\from{beamerouterthemeTUDa.dtx}{package,2008,body}%
		\from{beamerthemeTUDa2008.dtx}{outer}%
	}%
% beamer inner theme
	\file{beamerinnerthemeTUDa.sty}{\from{beamerinnerthemeTUDa.dtx}{package,main}}
	\file{beamerinnerthemeTUDa2008.sty}{\from{beamerinnerthemeTUDa.dtx}{package,2008}}
	\file{beamerinnerthemeTUDa2023.sty}{\from{beamerinnerthemeTUDa.dtx}{package,2023}}
}

\declarepreamble\tudakomasize
it is part of
TUDa-CI -- Corporate Design for TU Darmstadt

----------------------------------------------------------------------------

  Copyright (C) 2018--2025 by Marei Peischl <marei@peitex.de>

============================================================================

The source file includes parts of the files scrkernel-fonts.dtx  and  scrkernel-paragraphs.dtx
Copyright (c) 1994--2024 Markus Kohm [komascript at gmx info]
which are part of the KOMA-Script bundle.

The files were modified by Marei Peischl <marei@peitex.de>

This work may be distributed and/or modified under the
conditions of the LaTeX Project Public License, either version 1.3c
of this license or (at your option) any later version.
The latest version of this license is in
http://www.latex-project.org/lppl.txt
and version 1.3c or later is part of all distributions of LaTeX
version 2008/05/04 or later.

This work has the LPPL maintenance status `maintained'.

The Current Maintainers of this work are
  Marei Peischl <tuda-ci@peitex.de>

The development repository can be found at
https://github.com/tudace/tuda_latex_templates
Please use the issue tracker for feedback!

============================================================================

\endpreamble

\generate{%
	\file{tudasize9pt.clo}{\from{tudasize.dtx}{scrsize,9pt}}%
	\file{tudalettersize10pt.clo}{\from{tudasize.dtx}{scrsize,tudaletter}}%
}%

\usepreamble\tudadefault

\ExplSyntaxOn
\int_new:N \g_ptxcd_count_int

% redefine module replacement to allow custom replacements for paper size
\str_new:N \l_ptxcd__tmpa_str
\str_new:N \l__ptxcd_customize_ins_str
\cs_set_eq:NN \__ptxcd_customize_ins_prepareActiveModule:n \prepareActiveModule
\cs_set:Npn \prepareActiveModule#1{
	\__ptxcd_customize_ins_prepareActiveModule:n {#1}%
	\tl_put_left:Nn \replaceModuleInLine{
		\str_set:NV  \l_ptxcd__tmpa_str \inLine
		\exp_args:NNxx \str_replace_all:Nnn \l_ptxcd__tmpa_str  {\tl_to_str:V \l__ptxcd_customize_ins_str} {\use:c {\l__ptxcd_customize_ins_str}}
		\tl_set_rescan:NnV \inLine {} \l_ptxcd__tmpa_str
		\int_gzero:N  \g_ptxcd_count_int
	}
}


\str_set:Nx \l__ptxcd_customize_ins_str {\string\@@tudasizepaper@@\space}

\cs_set:Npn \generateTUDaPaperFiles #1 {
	\str_set:Nx \l__ptxcd_customize_ins_str {\string\@@tudasizepaper@@\space}
	\clist_map_inline:nn {#1} {
		\generate{
			\tl_set:cn {\str_use:N \l__ptxcd_customize_ins_str} {##1}
			\file{tuda-##1paper.clo}{\from{tudasize.dtx}{##1,tudasize}}
		}
	}
}
\ExplSyntaxOff
\generateTUDaPaperFiles {a0,a1,a2,a3,a4,a5}

\endbatchfile
